(this["webpackJsonpvboard-app"]=this["webpackJsonpvboard-app"]||[]).push([[0],{218:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),a=n(33),i=n.n(a),c=(n(93),n(27)),l=n(19),s=n(21),u=n(53),p=n(230),f=(n(66),360),m=540,b=200,d=50;function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var g=function(e){return e.stage?o.a.createElement(s.Group,null,e.lines.map((function(e){return o.a.createElement(s.Line,{ref:function(e){return e&&e.moveToTop()},key:e.id,strokeWidth:e.strokeWidth,stroke:e.color,points:e.points,globalCompositeOperation:"eraser"===e.tool?"destination-out":"source-over"})})),o.a.createElement(s.Line,{ref:function(e){return e&&e.moveToTop()},fill:"white",stroke:"white",strokeWidth:1,points:[b,d+m/2,b+f/2*2,d+m/2]}),o.a.createElement(s.Line,{ref:function(e){return e&&e.moveToTop()},fill:"white",stroke:"white",strokeWidth:1,points:[b,d+m/2-.2*m,b+f/2*2,d+m/2-.2*m]}),o.a.createElement(s.Line,{ref:function(e){return e&&e.moveToTop()},fill:"white",stroke:"white",strokeWidth:1,points:[b,d+m/2+.2*m,b+f/2*2,d+m/2+.2*m]}),o.a.createElement(s.Rect,{x:b,y:d,width:f,height:m,fill:"#E58168",stroke:"white",strokeWidth:1,onMouseDown:function(t){e.setIsPaint(!0);var n=t.target.getStage().getPointerPosition(),r=e.lines.concat({id:Date.now(),tool:"pen",points:[n.x,n.y],strokeWidth:Number(e.strokeWidth),color:e.color});e.setLines(r)},onMouseMove:function(t){if(e.isPaint){var n=t.target.getStage().getPointerPosition(),r=e.lines.slice(),o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r[r.length-1]);o.points=o.points.concat([n.x,n.y]),r[r.length-1]=o,e.setLines(r)}},onMouseUp:function(t){e.setIsPaint(!1)},onTouchEnd:function(t){e.setIsPaint(!1)}})):null},h=n(76),O=n.n(h),E=function(e){var t=O()("http://localhost:3000/ball3.png"),n=Object(l.a)(t,1)[0];return o.a.createElement(s.Image,Object.assign({image:n},e,{ref:e.getRef}))};E.displayName="Ball";var v=E,x=function(e){return o.a.createElement(s.Group,{ref:e.getRef,x:e.x,y:e.y,draggable:!0,onDragEnd:function(t){var n=t.evt;return e.onDragEnd({x:n.offsetX,y:n.offsetY})}},o.a.createElement(s.Text,{ref:function(e){return e&&e.moveToTop()},fill:e.isLibero?"white":"black",x:-5,y:-7,text:e.label,fontSize:18}),e.name&&o.a.createElement(s.Text,{ref:function(e){return e&&e.moveToTop()},fill:"white",x:-45*e.name.length/10,y:-30,text:e.name.toUpperCase(),fontSize:12}),o.a.createElement(s.Circle,{shadowBlur:2,radius:15,fill:e.isLibero?"blue":"red"}))},w=n(239),j=n(231),P=n(236),S=n(234),k=n(235),C=function(e){return o.a.createElement("a",{href:e.uri,style:{visibility:"hidden"},download:e.fileName,ref:function(e){e&&e.click()}},"Donwload")};C.displayName="ExportImage";var D=C,T=n(237),I=n(232),L=function(e){var t=o.a.useState(),n=Object(l.a)(t,2),r=n[0],a=n[1];return o.a.createElement(T.a,{isShown:e.isShown,title:"Guardar posiciones",onCloseComplete:e.onCloseComplete,onConfirm:function(){return e.onConfirm(r)},confirmLabel:"Guardar"},o.a.createElement(I.a,{name:"save-name",placeholder:"Nombre para la t\xe1ctica",value:r,onChange:function(e){return a(e.target.value)}}))};function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W=["setter","central","recep1","recep2","libero","opuesto"],N=function(e){var t=o.a.useState(W.reduce((function(e,t){return M({},e,Object(c.a)({},t,""))}),{})),n=Object(l.a)(t,2),r=n[0],a=n[1];return o.a.createElement(T.a,{isShown:e.isShown,title:"Guardar posiciones",onCloseComplete:e.onCloseComplete,onConfirm:function(){return e.onConfirm(r)},confirmLabel:"Guardar"},W.map((function(e){return o.a.createElement(I.a,{key:e,style:{margin:4},name:e,placeholder:"Nombre ".concat(e),value:r[{position:e}],onChange:function(t){return a(M({},r,Object(c.a)({},e,t.target.value)))}})})))},z={setter:{x:269,y:133},opuesto:{x:250,y:288},recep1:{x:500,y:288},recep2:{x:375,y:70},central:{x:375,y:288},libero:{x:493,y:133},ball:{x:360,y:338}};function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A={margin:"6px"},B=function(){return Object.keys(window.localStorage).filter((function(e){return e.includes("vboard")})).map((function(e){return{label:e.split("vboard.")[1],value:e.split("vboard.")[1]}}))};var J=function(e){var t=B();return o.a.createElement(u.a,{display:"flex",flexDirection:"column",background:"#0A5CAF",alignItems:"center",borderRight:!0,maxWidth:"20",padding:4},o.a.createElement(w.a,{content:"Reset"},o.a.createElement(j.a,{style:A,height:50,icon:"undo",onClick:function(){e.setPositions(z),e.setHasClicked(!0)}})),o.a.createElement(w.a,{content:"Borrar l\xedneas"},o.a.createElement(j.a,{style:A,height:50,icon:"eraser",onClick:function(){e.setLines([])}})),o.a.createElement(w.a,{content:"Guardar t\xe1ctica"},o.a.createElement(j.a,{style:A,height:50,icon:"floppy-disk",onClick:function(){return e.setIsModalOpen(!0)}})),o.a.createElement(L,{isShown:e.isModalOpen,onCloseComplete:function(){e.setIsModalOpen(!1)},onConfirm:function(t){window.localStorage.setItem("vboard.".concat(t),JSON.stringify(e.positions)),e.setIsModalOpen(!1)}}),o.a.createElement(w.a,{content:"Nombre de jugadores"},o.a.createElement(j.a,{style:A,height:50,icon:"people",onClick:function(){return e.setIsModalPlayerOpen(!0)}})),o.a.createElement(N,{isShown:e.isModalPlayerOpen,onCloseComplete:function(){e.setIsModalPlayerOpen(!1)},onConfirm:function(t){e.setIsModalPlayerOpen(!1),e.setPositions(H({},e.positions,{},Object.entries(t).reduce((function(n,r){var o=Object(l.a)(r,2),a=o[0];o[1];return H({},n,Object(c.a)({},a,H({},e.positions[a],{name:t[a]})))}),{})))}}),o.a.createElement(P.a,{style:A,title:"Selecciona t\xe1ctica",options:t,selected:"",onSelect:function(t){var n=window.localStorage.getItem("vboard.".concat(t.value));n&&(e.setPositions(JSON.parse(n)),e.setHasClicked(!0))}},o.a.createElement(w.a,{content:"Seleccionar t\xe1ctica"},o.a.createElement(j.a,{style:A,height:50,icon:"applications"}))),o.a.createElement(w.a,{content:"Exportar a PNG"},o.a.createElement(j.a,{style:A,height:50,icon:"export",onClick:function(){e.setHasToExport(!e.hasToExport)}})),e.uri&&e.hasToExport&&o.a.createElement(D,{uri:e.uri,fileName:"vboard-".concat(Date.now(),".png")}),o.a.createElement(S.a,{size:500,style:H({},A,{color:"white"})},o.a.createElement("u",null,"Opciones de l\xe1piz")),o.a.createElement(k.a,{onChange:function(t){return e.setStrokeWidth(t.target.value)},style:H({},A,{maxHeight:"35px"}),value:e.strokeWidth},o.a.createElement("option",{value:1},"1px"),o.a.createElement("option",{value:2},"2px"),o.a.createElement("option",{value:3},"3px")))},U=n(37),F=function(e){return o.a.createElement(u.a,{display:"flex",flexDirection:"column",alignItems:"start",justifyContent:"start",margin:12,flex:2},o.a.createElement(U.a,{size:500,color:"white"},"R - Receptor"),o.a.createElement(U.a,{size:500,color:"white"},"L - L\xedbero"),o.a.createElement(U.a,{size:500,color:"white"},"C - Central"),o.a.createElement(U.a,{size:500,color:"white"},"S - Setter/Armador"))};function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y=function(){var e,t,n,r,a,i,c,f,m,b=o.a.useState({setter:e,recep1:t,recep2:n,opuesto:r,central:a,libero:i,ball:c,stage:f,court:m}),d=Object(l.a)(b,2),y=d[0],h=d[1],O=o.a.useState(""),E=Object(l.a)(O,2),w=E[0],j=E[1],P=o.a.useState(z),S=Object(l.a)(P,2),k=S[0],C=S[1],D=o.a.useState(!1),T=Object(l.a)(D,2),I=T[0],L=T[1],R=o.a.useState(!1),M=Object(l.a)(R,2),W=M[0],N=M[1],G=o.a.useState(!1),H=Object(l.a)(G,2),A=H[0],B=H[1],U=o.a.useState(""),V=Object(l.a)(U,2),Y=V[0],$=V[1],q=o.a.useState([]),K=Object(l.a)(q,2),Q=K[0],Z=K[1],_=o.a.useState(!1),ee=Object(l.a)(_,2),te=ee[0],ne=ee[1],re=o.a.useState(1),oe=Object(l.a)(re,2),ae=oe[0],ie=oe[1];o.a.useEffect((function(){if(h({setter:e,recep1:t,recep2:n,opuesto:r,central:a,libero:i,ball:c,stage:f,court:m}),I){var o=f.toDataURL({pixelRatio:2});$(o),L(!I)}if(w){var l=k;y.setter.to({x:l.setter.x,y:l.setter.y,duration:.2}),y.recep1.moveToTop(),y.recep1.to({x:l.recep1.x,y:l.recep1.y,duration:.2}),y.recep2.to({x:l.recep2.x,y:l.recep2.y,duration:.2}),y.opuesto.moveToTop(),y.opuesto.to({x:l.opuesto.x,y:l.opuesto.y,duration:.2}),y.central.to({x:l.central.x,y:l.central.y,duration:.2}),y.libero.to({x:l.libero.x,y:l.libero.y,duration:.2}),y.ball.moveToTop(),y.ball.to({x:l.ball.x,y:l.ball.y,duration:.2})}}),[k,c,a,w,I,i,r,t,n,f,e,y.setter,y.recep1,y.recep2,y.opuesto,y.central,y.libero,y.ball,m]);var ce=z;return o.a.createElement(u.a,{display:"flex",flexDirection:"column"},o.a.createElement(u.a,{border:!0,height:30,padding:6,display:"flex",justifyContent:"center",alignItems:"center"},o.a.createElement(p.a,{size:600},o.a.createElement("span",{role:"img","aria-label":"vball"},"\ud83c\udfd0"),"Volley Board",o.a.createElement("span",{role:"img","aria-label":"vball"},"\ud83c\udfd0"),"- A simple tool for building your own on court tactics")),o.a.createElement(u.a,{display:"flex",flexDirection:"row",backgroundColor:"#0A5CAF"},o.a.createElement(J,{setPositions:C,setHasClicked:j,setLines:Z,setIsModalOpen:N,isModalOpen:W,positions:k,setIsModalPlayerOpen:B,isModalPlayerOpen:A,setHasToExport:L,hasToExport:I,uri:Y,setStrokeWidth:ie,strokeWidth:ae}),o.a.createElement(s.Stage,{ref:function(e){f=e},width:window.innerWidth-450,height:window.innerHeight,onMouseUp:function(e){ne(!1)},onTouchEnd:function(e){ne(!1)}},o.a.createElement(s.Layer,null,o.a.createElement(s.Group,{ref:function(e){m=e}},o.a.createElement(v,{getRef:function(e){c=e,e&&e.moveToTop()},x:ce.ball.x,y:ce.ball.y,height:20,width:32,draggable:!0,onDragEnd:function(e){var t=e.evt;return C(X({},k,{ball:{x:t.x,y:t.y}}))}}),o.a.createElement(g,{stage:y.stage,lines:Q,setLines:Z,isPaint:te,setIsPaint:ne,strokeWidth:ae,color:"#000000"}),o.a.createElement(x,{getRef:function(t){e=t},x:ce.setter.x,y:ce.setter.y,name:k.setter.name,label:"S",onDragEnd:function(e){return C(X({},k,{setter:X({},k.setter,{},e)}))}}),o.a.createElement(x,{getRef:function(e){t=e},name:k.recep1.name,x:ce.recep1.x,y:ce.recep1.y,label:"R",onDragEnd:function(e){return C(X({},k,{recep1:X({},k.recep1,{},e)}))}}),o.a.createElement(x,{getRef:function(e){n=e},x:ce.recep2.x,y:ce.recep2.y,label:"R",name:k.recep2.name,onDragEnd:function(e){return C(X({},k,{recep2:X({},k.recep2,{},e)}))}}),o.a.createElement(x,{getRef:function(e){r=e},x:ce.opuesto.x,y:ce.opuesto.y,name:k.opuesto.name,label:"O",onDragEnd:function(e){return C(X({},k,{opuesto:X({},k.opuesto,{},e)}))}}),o.a.createElement(x,{getRef:function(e){a=e},x:ce.central.x,y:ce.central.y,name:k.central.name,label:"C",onDragEnd:function(e){return C(X({},k,{central:X({},k.central,{},e)}))}}),o.a.createElement(x,{getRef:function(e){i=e},x:ce.libero.x,y:ce.libero.y,label:"L",name:k.libero.name,isLibero:!0,onDragEnd:function(e){return C(X({},k,{libero:X({},k.libero,{},e)}))}})))),o.a.createElement(F,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},66:function(e,t,n){},89:function(e,t,n){e.exports=n(218)},93:function(e,t,n){}},[[89,1,2]]]);
//# sourceMappingURL=main.376b81be.chunk.js.map